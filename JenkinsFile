pipeline {
	agent any 
	
	stages{
		stage('build'){
			steps{
				bat "mvn clean compile"
			}
			post{
				always{
					echo "build stage finished!"
				}
				changed{ // si des fichiers ont changés
					echo "du changement en build"
				}
				failure{
					echo "la piquette jacques! t'es mauvais!"
				}
				success{
					echo "tiens un bon point!"
				}
			}
				
		}
		stage('test'){
			steps{
				bat "mvn test"
			}
		}
	}
	post{
				always{
					echo "build stage finished!"
				}
				changed{ // si des fichiers ont changés
					echo "du changement en build"
				}
				failure{
					echo "la piquette jacques! t'es mauvais!"
				}
				success{
					echo "tiens un bon point!"
				}
			}
}